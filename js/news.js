cardDate =`{
  "cards":{
    "1":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card1/5a37be0a97c253c8f01cd06e3587.webp",
      "size":"Доступні розміри: S M L XL XXL",
      "cardBrand":"mexx",
      "cardName":"Чоловіча біла лляна сорочка",
      "cardPrice":"3 990 грн"
    },
    "2":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card2/9d5467602b1c4ee926bc9db70a36.webp",
      "size":"Доступні розміри: S M L XL XXL",
      "cardBrand":"mexx",
      "cardName":"Чоловіча блакитна лляна сорочка",
      "cardPrice":"3 990 грн"
    },
    "3":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card3/79356ef9ac72fb1d47d5285ca97b.webp",
      "size":"Доступні розміри: S M L XL XXL",
      "cardBrand":"mexx",
      "cardName":"Чоловіче блакитне поло",
      "cardPrice":"2 190 грн"
    },
    "4":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card4/fc8315cbbeb9f751fa506a994675.webp",
      "size":"Доступні розміри: S M L XL XXL",
      "cardBrand":"mexx",
      "cardName":"Чоловічі блакитні джинсові шорти",
      "cardPrice":"3 190 грн"
    },
    "5":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card5/ebebe1471b1661dda62cabce28e9.webp",
      "size":"Доступні розміри: S M L XL XXL",
      "cardBrand":"mexx",
      "cardName":"Чоловіче чорне поло",
      "cardPrice":"2 190 грн"
    },
    "6":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card6/19b7add177879ec7b04da2a57726.webp",
      "size":"Доступні розміри: S M L XL XXL",
      "cardBrand":"mexx",
      "cardName":"Жіноча рожева лляна сорочка",
      "cardPrice":"3 990 грн"
    },
    "7":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card7/abe2935d87e27140911265b1c045.webp",
      "size":"Доступні розміри: XS S M L",
      "cardBrand":"mexx",
      "cardName":"Жіночі білі шорти",
      "cardPrice":"2 690 грн"
    },
    "8":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card8/c0dbeea90d93e6ea65bc69c06bd3.webp",
      "size":"Доступні розміри: S M L XL",
      "cardBrand":"mexx",
      "cardName":"Чоловічі білі джинсові шорти",
      "cardPrice":"3 190 грн"
    },
    "9":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card9/dee6fe029fba7ca65a2435849b0c.webp",
      "size":"Доступні розміри: XS S M L",
      "cardBrand":"mexx",
      "cardName":"Жіночі малинові лляні шорти",
      "cardPrice":"3 990 грн"
    },
    "10":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsMexx/card10/11d72989d01a9bbb5d36065efb2e.webp",
      "size":"Доступні розміри: S M L XL",
      "cardBrand":"mexx",
      "cardName":"Чоловічі темно-сині шорти",
      "cardPrice":"3 590 грн"
    },
    "11":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card1/b590f29da865525413e9229d2cba.webp",
      "size":"Доступні розміри: M XL",
      "cardBrand":"puma",
      "cardName":"Худі Men’s Hoodie",
      "cardPrice":"2 290 грн"
    },
    "12":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card2/b590f29da865525413e9229d2cba.webp",
      "size":"Доступні розміри: L",
      "cardBrand":"puma",
      "cardName":"Дитяча футболка FC Shakhtar Donetsk Football ftblCore Tee Youth",
      "cardPrice":"840 грн"
    },
    "13":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card3/34033ba56b2cd1bfe0d01e214917.webp",
      "size":"Доступні розміри: M",
      "cardBrand":"puma",
      "cardName":"Футболка Essentials Small Logo Men's Tee",
      "cardPrice":"890 грн"
    },
    "14":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card4/98c8e0762087b41290f674f9150d.webp",
      "size":"Доступні розміри: 3 5.5 6 6.5 7",
      "cardBrand":"puma",
      "cardName":"Кросівки Deviate NITRO 2 Running Shoes Women",
      "cardPrice":"7 190 грн"
    },
    "15":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card5/3268838f680057a5ca1a28efae50.webp",
      "size":"Доступні розміри: 6 6.5 7 7.5 8 8.5 9 9.5 10 10.5 11",
      "cardBrand":"puma",
      "cardName":"Кросівки Fuse 2.0 Men's Training Shoes",
      "cardPrice":"4 490 грн"
    },
    "16":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card6/922ca8fc31fe5a1739527c5c24ce.jpg",
      "size":"Доступні розміри: XS",
      "cardBrand":"puma",
      "cardName":"Шорти PUMA International Polyester Jersey Women's Shorts",
      "cardPrice":"499 грн"
    },
    "17":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card7/443e4bda6f8915efc6bec1cba6cb.webp",
      "size":"Доступні розміри: XS",
      "cardBrand":"puma",
      "cardName":"Шорти PUMA International Polyester Jersey Women's Shorts",
      "cardPrice":"499 грн"
    },
    "18":{
      "cardImg":"../assets/images/mainNews/cardNewsBrand/newsPuma/card8/b0da47f8d329706d9be2eeffe562.webp",
      "size":"Доступні розміри: XS S L XL XXL",
      "cardBrand":"puma",
      "cardName":"Футболка PUMA Team Men's Graphic Tee II",
      "cardPrice":"1 390 грн"
    }
  },
  "btnMore":"Показати більше товарів"
}`

let preloader = document.querySelector('.preloader__wrapper');
let body = document.querySelector('body');
window.onload = ()=>{
  setTimeout(() => {
    preloader.style.display = 'none';
  }, 950);
}
function openMenu() {
  let open = document.querySelector('.header__container-menu-mobile-container')
open.style.left = '0px'
}
function closeMenu() {
let open = document.querySelector('.header__container-menu-mobile-container')
open.style.left = '-3000px'
}
    // ! CALL BACK
    function closeCallBackContainer() {
        document.querySelector('.call-back__container').style.cssText = 'position:fixed;bottom:-600px;'
    }
    
    function openCallBackContainer() {
      document.querySelector('.call-back__container').style.cssText = 'z-index:7;position:fixed;bottom:0;'
    }
     // ! call back input number
     let callBackFlag = false;
     let callBackNumberText = document.getElementById('subInputText');
     let callBackNumber = document.getElementById('callBackUserNumber');
     let callBackNumberValue = document.getElementById('callBackUserNumber').value;

     var element = document.getElementById('callBackUserNumber');
     var maskOptions = {
       mask: '+{38}(\\0\99)000-00-00',
       lazy: false
      };
      var mask = IMask(element, maskOptions);
      mask.on('accept', function(){
        callBackUserNumber.style.border = '1px solid red';
        callBackUserNumber.style.color = 'red';
        subInputText.style.color = 'red';
      })
      mask.on('complete', function(){
        callBackUserNumber.style.border = '1px solid black';
        callBackUserNumber.style.color = 'black';
        subInputText.style.color = 'black';
      })
      callBackSendUserNum.onclick = function(){
        let thanksMessage = document.querySelector('.main__container-call--back-container-send')
        thanksMessage.style.cssText = 'position:fixed;right:20px;'
        setTimeout(function() {
          thanksMessage.style.cssText = 'position:fixed;right:-2000px;';
        }, 5000)
        mask.value = '(___)___-__-__';
        callBackUserNumber.style.border = '1px solid black';
        callBackUserNumber.style.color = 'black';
        subInputText.style.color = 'black';
      }
      function closeMessage() {
        let thanksMessage = document.querySelector('.main__container-call--back-container-send')
        thanksMessage.style.cssText = 'position:fixed;right:-2000px;';
      }     

    // ! NEWS CARDS
    let cardDateParsed = JSON.parse(cardDate);
    // let cardDateParsedLength = Object.keys(cardDateParsed.cards).length;
    // console.log(cardDateParsedLength);

    // let cardDateParsedJSON = JSON.parse();

    let outCardsContent = document.querySelector('.cards-out');

    // ! MEXX
    let cardsContainer = document.createElement('div')
    cardsContainer.classList.add('main__container-catalog-cards-container')
    let cardsWrapper = document.createElement('div')
    cardsWrapper.classList.add('main__container-catalog-cards-wrapper')
    
    outCardsContent.appendChild(cardsContainer)
    cardsContainer.appendChild(cardsWrapper)
    // Math.round(Math.random() * (10 - 1) + 1);
    // let ls = document.getElementsByClassName('main__container-catalog-cards-content');
    // for (l of ls) {
    //   console.log(l.length);
      
    // }
    cardDateParsedLength = 18
    function addCard() {
      console.log(cardDateParsedLength);
      return cardDateParsedLength+=3
    }
    for (let i = 1; i <= cardDateParsedLength; i++) {
      let cardsContent = document.createElement('div')
      cardsContent.classList.add('main__container-catalog-cards-content')
      let cardsTitleNew = document.createElement('div')
      cardsTitleNew.innerHTML = 'NEW';
      cardsTitleNew.classList.add('main__container-catalog-cards-title-new')
      let cardsContentInfo = document.createElement('div')
      cardsContentInfo.classList.add('main__container-catalog-cards-content-info')
      let cardsImgContainer = document.createElement('div')
      cardsImgContainer.classList.add('main__container-catalog-cards-img-container')
      let cardsImg = document.createElement('img')
      cardsImg.setAttribute('onclick','showCardMoreInfo(event)')
      cardsImg.classList.add('main__container-catalog-cards-img')
      cardsImg.src = cardDateParsed.cards[i].cardImg;
      let cardsSize = document.createElement('div')
      cardsSize.classList.add('main__container-catalog-cards-size')
      cardsSize.innerHTML = cardDateParsed.cards[i].size;
      let cardsBrand = document.createElement('div')
      cardsBrand.classList.add('main__container-catalog-cards-brand')
      cardsBrand.innerHTML = cardDateParsed.cards[i].cardBrand
      let cardsName = document.createElement('div')
      cardsName.classList.add('main__container-catalog-cards-name')
      cardsName.innerHTML = cardDateParsed.cards[i].cardName
      let cardsPrice = document.createElement('div')
      cardsPrice.classList.add('main__container-catalog-cards-price')
      cardsPrice.innerHTML = cardDateParsed.cards[i].cardPrice
      let cardBtnBag = document.createElement('div');
      cardBtnBag.classList.add('main__container-catalog-cards-btn-buy')
      cardBtnBag.setAttribute('onclick', 'addToBag(event)')
      let cardBtnBagImg = document.createElement('img');
      cardBtnBagImg.classList.add('main__container-catalog-cards-btn-buy-img');
      cardBtnBagImg.src = '../assets/images/headerBag/free-icon-shopping-bag-3661173.png'
      
      cardsWrapper.appendChild(cardsContent)
      cardsContent.appendChild(cardsTitleNew)
      cardsContent.appendChild(cardsImgContainer)
      cardsImgContainer.appendChild(cardsImg)
      cardsContent.appendChild(cardsContentInfo)
      cardsContentInfo.appendChild(cardsSize)
      cardsContentInfo.appendChild(cardsBrand)
      cardsContentInfo.appendChild(cardsName)
      cardsContentInfo.appendChild(cardsPrice)
      cardsContentInfo.appendChild(cardBtnBag)
      cardBtnBag.appendChild(cardBtnBagImg)
      
    }
    // ! MENU
    let menuContents = document.querySelectorAll('#menu');
    for (menuContent of menuContents) { 
        menuContent.onclick = (event) => {
          // console.log(event);
          if (event.target.dataset.menu == "clothe") {
            let clotheContentOpen = document.querySelector('.main__container-sidebar-menu-content-items-clothe')
            clotheContentOpen.classList.toggle('menu-opened')
          }
          if (event.target.dataset.menu == "whiteness") {
            let clotheContentOpen = document.querySelector('.main__container-sidebar-menu-content-items-whiteness')
            clotheContentOpen.classList.toggle('menu-opened')
          }
          if (event.target.dataset.menu == "footwear") {
            let clotheContentOpen = document.querySelector('.main__container-sidebar-menu-content-items-footwear')
            clotheContentOpen.classList.toggle('menu-opened')
          }
          if (event.target.dataset.menu == "accessories") {
            let clotheContentOpen = document.querySelector('.main__container-sidebar-menu-content-items-accessories')
            clotheContentOpen.classList.toggle('menu-opened')
          }
        }
      }

    // ! SORT
    let sortContents = document.querySelectorAll('#sort');
    // console.log(sortContents);
    for (sortContent of sortContents) {
      sortContent.onclick = (event) =>{
        if (event.target.dataset.sort == 'brand') {
          let sortContentOpen = document.querySelector('.main__container-catalog-headerbar-brand-sort-menu-content')
          sortContentOpen.classList.toggle('sort-opened')
        }
        if (event.target.dataset.sort == 'price') {
          let sortContentOpen = document.querySelector('.main__container-catalog-headerbar-price-sort-menu-content')
          sortContentOpen.classList.toggle('sort-opened')
        }
        if (event.target.dataset.sort == 'gender') {
          let sortContentOpen = document.querySelector('.main__container-catalog-headerbar-gender-sort-menu-content')
          sortContentOpen.classList.toggle('sort-opened')
        }
      }
    }
    let sortMediaContents = document.querySelectorAll('#media-sort');
    // console.log(sortContents);
    for (sortMediaContent of sortMediaContents) {
      sortMediaContent.onclick = (event) =>{
        if (event.target.dataset.mediasort == 'brand') {
          let sortMediaContentOpen = document.querySelector('.main__container-catalog-headerbar-wrapper-media-sort-content-item-lists-content-brand')
          sortMediaContentOpen.classList.toggle('sort-media-opened')
        }
        if (event.target.dataset.mediasort == 'price') {
          let sortMediaContentOpen = document.querySelector('.main__container-catalog-headerbar-wrapper-media-sort-content-item-lists-content-price')
          sortMediaContentOpen.classList.toggle('sort-media-opened')
        }
        if (event.target.dataset.mediasort == 'gender') {
          let sortMediaContentOpen = document.querySelector('.main__container-catalog-headerbar-wrapper-media-sort-content-item-lists-content-gender')
          sortMediaContentOpen.classList.toggle('sort-media-opened')
        }
      }
    }

    function findBrand() {
      let input = document.getElementById('searchBrand').value;
      input=input.toLowerCase();
      let brands = document.getElementsByClassName('brands');
        console.log(brands);
        console.log(brands.length);
          for (i = 0; i < brands.length; i++) { 
            if (!brands[i].innerHTML.toLowerCase().includes(input)) {
              brands[i].style.display="none";
            }
            else {
              brands[i].style.display="block";                 
            }
          }
        }
    function findMediaBrand() {
      let input = document.getElementById('searchMediaBrand').value;
      input=input.toLowerCase();
      let brands = document.getElementsByClassName('brands');
        console.log(brands);
        console.log(brands.length);
          for (i = 0; i < brands.length; i++) { 
            if (!brands[i].innerHTML.toLowerCase().includes(input)) {
              brands[i].style.display="none";
            }
            else {
              brands[i].style.display="block";                 
            }
          }
        }
        // localStorage.clear();
    function showCardMoreInfo(event) {
      // console.log(event);
      // console.log(window.location);
      // console.log(event.target.currentSrc);
      // console.log(event.target.offsetParent.lastElementChild.children[0].textContent);
      // console.log(event.target.offsetParent.lastElementChild.children[1].textContent);
      // console.log(event.target.offsetParent.lastElementChild.children[2].textContent);
      // console.log(event.target.offsetParent.lastElementChild.children[3].textContent);

      window.location.href = '../pages/showCardInfo.html';
      localStorage.setItem('cardForMoreInfoImg', event.target.currentSrc)
      localStorage.setItem('cardForMoreInfoSizes', event.target.offsetParent.lastElementChild.children[0].textContent)
      localStorage.setItem('cardForMoreInfoBrandName', event.target.offsetParent.lastElementChild.children[1].textContent)
      localStorage.setItem('cardForMoreInfoName', event.target.offsetParent.lastElementChild.children[2].textContent)
      localStorage.setItem('cardForMoreInfoPriceNews', event.target.offsetParent.lastElementChild.children[3].textContent)

      localStorage.removeItem('cardForMoreInfoPrice');
      localStorage.removeItem('cardForMoreInfoPriceDisc');
    }
    // localStorage.clear()
    function addToBag(event) {
      // console.log(event);
      let img = event.target.offsetParent.offsetParent.offsetParent.children[1].children[0].currentSrc;
      let size = event.target.offsetParent.offsetParent.children[0].textContent
      let brand = event.target.offsetParent.offsetParent.children[1].textContent
      let name = event.target.offsetParent.offsetParent.children[2].textContent
      let price = event.target.offsetParent.offsetParent.children[3].textContent
      
      var imgs = '';
      imgs += img;
      
      let obj = new Object();
      obj.img = img;
      obj.size = size;
      obj.brand = brand;
      obj.name = name;
      obj.price = price;
      console.log(imgs);
      console.log(JSON.stringify(obj));
      localStorage.setItem('bag', JSON.stringify(obj));
      let res = JSON.parse(localStorage.getItem('bag'));
      console.log(res);

      window.location.href = '../pages/shoppingCart.html';


      // console.log(price);
      // console.log(event);
      // console.log(event);
      // console.log(event.target.offsetParent.offsetParent.children[0].textContent);
      // console.log(event.target.offsetParent.offsetParent.children[1].textContent);
      // console.log(event.target.offsetParent.offsetParent.children[2].textContent);
      // console.log(event.target.offsetParent.offsetParent.children[3].textContent);
      
      // console.log(event.target.offsetParent.offsetParent.offsetParent.children[1].children[0].currentSrc);
      // localStorage.setItem('bagCardSizes', event.target.offsetParent.offsetParent.children[0].textContent)
      // localStorage.setItem('bagCardBrand', event.target.offsetParent.offsetParent.children[1].textContent)
      // localStorage.setItem('bagCardName', event.target.offsetParent.offsetParent.children[2].textContent)
      // localStorage.setItem('bagCardPrice', event.target.offsetParent.offsetParent.children[3].textContent)
      // localStorage.setItem('bagCardImg', event.target.offsetParent.offsetParent.offsetParent.children[1].children[0].currentSrc)

      // let bagCardBrand = localStorage.getItem('bagCardBrand');
      // let bagCardName = localStorage.getItem('bagCardName');
      // if (bagCardBrand == null || bagCardName == null) {
      //   localStorage.setItem('bagCardBrand', event.target.offsetParent.offsetParent.children[1].textContent);
      //   localStorage.setItem('bagCardName', event.target.offsetParent.offsetParent.children[2].textContent);
      // }else{
      //   bagCardBrand += ' ' + event.target.offsetParent.offsetParent.children[1].textContent, event.target.offsetParent.offsetParent.children[2].textContent
      //   bagCardName += ' ' + event.target.offsetParent.offsetParent.children[2].textContent, event.target.offsetParent.offsetParent.children[2].textContent
      //   localStorage.setItem('bagCardBrand', bagCardBrand);
      //   localStorage.setItem('bagCardName', bagCardName);
      //   // console.log(localStorage.getItem('bagCardName').join(' '));
      // }
    }

    function sortCards() {
      let checkboxGrowth = document.getElementById('byGrowth')
      let checkboxDecline = document.getElementById('byDecline')
      let cardPrices = document.querySelectorAll('.main__container-catalog-cards-price');
      // let cardPricesVal = cardPrices.outerText;
      // console.log(cardPricesVal);
      console.log(Array.from(cardPrices.outerText));
      if (checkboxGrowth.checked) {
        console.log(1);
      }else{
        console.log(2);
      }
    }

    function openFilterForSort() {
      let filterOpen = document.querySelector('.main__container-catalog-headerbar-wrapper-media-sorts');
      filterOpen.style.right = '0';
    }
    function closeFilterForSort() {
      let filterClose = document.querySelector('.main__container-catalog-headerbar-wrapper-media-sorts');
      filterClose.style.right = '-1000px';
    }